
# Flow Meter Calibration

The YFS-201 Flow Sensor is utilized in this project. which operates on the Hall Effect principle, which utilizes the magnetic field generated by the flowing liquid to detect its movement.

As the liquid flows through the sensor, it causes the turbine to rotate. The rotating turbine generates a magnetic field that is detected by the Hall Effect sensor, which in turn converts it into electrical signals. These electrical signals, typically in the form of pulses, represent the flow rate of the liquid.

Volume Calculation:

In The process of Calibration I found that for 500mL flow sensor produces around 233 Pulses.

Therfore, Volume in mL = 2.146 x pulse
Volume in Liter = 2.146 x pulse / 1000

Flow Rate Calculation: 

The formula used to calculate the flow rate in liters per minute is as follows:

flowRate = ((1000.0 / (millis() - oldTime)) * pulse) / FLOW_CALIBRATION

Let's break down the formula step by step:

a. (millis() - oldTime): This calculates the time difference (in milliseconds) between the current time and the previous calculation time (oldTime).

b. (1000.0 / (millis() - oldTime)): This calculates the time elapsed per pulse in seconds. It divides 1000 (to convert milliseconds to seconds) by the time difference.

c. ((1000.0 / (millis() - oldTime)) * pulse): This calculates the flow rate per second. It multiplies the time elapsed per pulse by the number of pulses received.

d. ((1000.0 / (millis() - oldTime)) * pulse) / FLOW_CALIBRATION: This further adjusts the flow rate by dividing it by the calibration factor (FLOW_CALIBRATION)

e. The resulting value is the flow rate in liters per minute.

Note: FLOW_CALIBRATION value is got from DataSheet

## Reference

https://circuitdigest.com/microcontroller-projects/arduino-based-water-flow-sensor

https://www.youtube.com/watch?v=xXItEusqqEg

https://www.youtube.com/watch?v=Xnhdyo-nZvM
